<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" modified="2024-07-04T22:04:02.263+08:00" lasteditedby="niuji" version="2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title>-vo17</title>
  <keywords>
    <keyword>-vo17</keyword>
  </keywords>
  <body>
    <header>
      <para styleclass="Heading1">-vo17</para>
    </header>
    <para styleclass="Body Text"></para>
    <para styleclass="Body Text">生成代码以完全实现与 VO 兼容的 BEGIN SEQUENCE ... END SEQUENCE。</para>
    <para styleclass="Body Text">编译器会生成对运行时函数 _SequenceError 和 _SequenceRecover 的调用，您可以在自己的代码中覆盖这些函数。</para>
    <para styleclass="Code with box">-vo17[+|-]</para>
    <para styleclass="Heading2">参数</para>
    <para styleclass="List">+ | - <tab />指定 + 或 -vo17，编译器会自动生成与父类构造函数具有相同签名的构造函数</para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><text styleclass="Heading3">要在 Visual Studio 开发环境中设置该编译器选项，请执行以下操作</text></para>
    <para styleclass="Normal"></para>
    <list id="0" type="ol" listtype="decimal" formatstring="&#37;&#48;&#58;&#115;&#46;" format-charset="DEFAULT_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="margin-left:13px; font-family:Arial; font-size:11pt; color:#000000;">
      <li styleclass="Normal" style="margin-left:13px;">打开项目的 &quot;属性&quot;页面</li>
      <li styleclass="Normal" style="margin-left:13px;">点击 Dialect 选项卡 </li>
      <li styleclass="Normal" style="margin-left:13px;">更改值</li>
      <li styleclass="Normal" style="margin-left:13px;"><link displaytype="text" defaultstyle="true" type="topiclink" href="PropPage-Dialect">查看属性页</link></li>
    </list>
    <para styleclass="Normal" style="margin-left:13px;"></para>
    <para styleclass="Normal" style="margin-left:13px;"></para>
    <para styleclass="Normal" style="margin-left:13px;">编译器生成的代码将调用 2 个运行时函数，以便调整 BEGIN SEQUENCE ... END SEQUENCE 处理的行为。</para>
    <para styleclass="Normal" style="margin-left:13px;"></para>
    <para styleclass="Normal" style="margin-left:13px;">这些函数在 XSharp 运行时中的默认实现：</para>
    <para styleclass="Code Example"><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;summary&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// 此函数是由编译器自动插入到RECOVER USING块中的，并在到达RECOVER USING块时调用，因为发生了异常。</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;/summary&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;param name=&quot;e&quot;&gt;触发跳转到RECOVER USING块的异常&lt;/param&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;remarks&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// 此函数的默认实现（在XSharp.RT程序集中）调用了通过ErrorBlock()安装的错误处理程序。</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// 然后，该函数应具有以下原型</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;code language=&quot;X#&quot;&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// FUNCTION _SequenceError(e as Exception) AS VOID</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;/code&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;/remarks&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;returns&gt;调用安装在ErrorBlock中的错误处理程序的结果&lt;/returns&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;seelso cref=&apos;O:XSharp.RT.Functions._Break&apos;&gt;Break Function&lt;/seealso&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;seelso cref=&apos;O:XSharp.RT.Functions.ErrorBlock&apos;&gt;Break Function&lt;/seealso&gt;</text><br/><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">FUNCTION</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> _SequenceError(e </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">as</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> Exception) </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">AS</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">USUAL</text><br/><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> &#160; &#160;</text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">LOCAL</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> error </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">as</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> XSharp.Error</text><br/><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> &#160; &#160;</text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">IF</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> e </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">IS</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> XSharp.Error </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">VAR</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> err</text><br/><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> &#160; &#160; &#160; &#160;error := err</text><br/><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> &#160; &#160;</text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">ELSE</text><br/><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> &#160; &#160; &#160; &#160;error := Error{e}</text><br/><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> &#160; &#160;</text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">ENDIF</text><br/><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> &#160; &#160;</text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">RETURN</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> Eval(ErrorBlock(), error)</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;summary&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// 当您的代码中有一个 BEGIN SEQUENCE .. END SEQUENCE 而没有 RECOVER USING 子句时，</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// 编译器会在编译生成的 RECOVER USING 块中自动插入此函数</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;/summary&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;param name=&quot;u&quot;&gt;在 BREAK 语句或调用 _Break 函数时传递的参数&lt;/param&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;remarks&gt;如果发生真正的异常，则不会调用此函数。只有在从 BREAK 语句传递值时才会调用该函数（生成的）RECOVER USING 块。&lt;br /&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// 此函数的默认实现（在 XSharp.RT 程序集中）不执行任何操作。</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// 如果需要，您可以在自己的代码中重写此函数。</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// 然后，该函数应具有以下原型</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;code language=&quot;X#&quot;&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// FUNCTION _SequenceRecover(u as USUAL) AS VOID</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;/code&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;/remarks&gt;</text><br/><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">/// &lt;seelso cref=&apos;O:XSharp.RT.Functions._Break&apos;&gt;Break Function&lt;/seealso&gt;</text><br/><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">FUNCTION</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> _SequenceRecover(u </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">as</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">USUAL</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;">) </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">AS</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">VOID</text><br/><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> &#160; &#160;</text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">RETURN</text></para>
    <para styleclass="Code Example"></para>
  </body>
</topic>
