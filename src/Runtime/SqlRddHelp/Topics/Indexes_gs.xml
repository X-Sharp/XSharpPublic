<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" modified="2024-02-27T17:53:24.814+01:00" lasteditedby="robert" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Index getting started</title>
  <keywords>
    <keyword translate="true">Index</keyword>
    <keyword translate="true">ndexCallBack()</keyword>
    <keyword translate="true">Order</keyword>
    <keyword translate="true">Seek</keyword>
  </keywords>
  <body>
    <header>
      <para styleclass="" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Heading1" translate="true">Introduction to Index Support in the SQLRDD</text></para>
    </header>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Of course every serious application will use indexes. Therefore we also support Index creation with the SQLRDD. </text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">This is an area where you may find some differences between SQLRDD and the standard RDDs.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">When you analyze the use of indexes in your application you will see that indexes are used for two different purposes:</text></para>
    <para styleclass="Normal"></para>
    <list id="0" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ; font-family:Symbol; font-size:11pt; color:#000000;">
      <li styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Normal" translate="true">Displaying your data in a particular order</text></li>
    </list>
    <list id="1" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ; font-family:Symbol; font-size:11pt; color:#000000;">
      <li styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Normal" translate="true">Locating records using the Seek functionality</text></li>
    </list>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The standard RDD files achieve this by reading all the records in a table and storing a list of record numbers and key value pairs in a structured way in a file on the local disk, together with the index expression that created the key values.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Since the key values are calculated on the local workstation any VO expression (including user defined functions) may be used to calculate the key values.</text></para>
    <para styleclass="Normal"></para>
    <para styleclass="" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Heading1" translate="true">Problems</text></para>
    <para styleclass="" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The SQLRDD also implements indexes for both purposes, but has to handle some problems:</text></para>
    <list id="1" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ; font-family:Symbol; font-size:11pt; color:#000000;">
      <li styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Normal" translate="true">It is not feasible to store the record number-key value pairs on the local hard disk. Indexing should be handled by the server</text></li>
    </list>
    <list id="2" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ; font-family:Symbol; font-size:11pt; color:#000000;">
      <li styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Normal" translate="true">Record numbers in general are not available in a SQL environment.</text></li>
      <li styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Normal" translate="true">For that reason we can not use User Defined Functions in an index key expression, since these would not be available for the server</text></li>
      <li styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Normal" translate="true">Most of the built-in functions of Clipper, such as SUBSTR(), LEFT(), RIGHT(), UPPER(), STR(), DTOS() are available on the server but have a different name or different parameters.</text></li>
      <li styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Normal" translate="true">In a Client/Server environment you usually try to reduce the number of records that get send to the workstation. So it makes sense to use the Seek() functionality to limit the number of rows that get returned to the workstation</text></li>
    </list>
    <para styleclass="Normal"></para>
    <para styleclass="" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Heading1" translate="true">Solution</text></para>
    <para styleclass="" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"></para>
    <para styleclass="" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Normal" translate="true">We have come up with the following solution:</text></para>
    <list id="2" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ; font-family:Symbol; font-size:11pt; color:#000000;">
      <li styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Normal" translate="true">When creating an index file we split the work between the client and the server:</text></li>
    </list>
    <list id="3" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:88px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:88px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ; font-family:Symbol; font-size:11pt; color:#000000;">
      <li styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:88px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:88px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Normal" translate="true">The Client stores the index and order(tag) name on the local hard disk, together with the index expression</text></li>
      <li styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:88px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:88px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Normal" translate="true">The Client asks the Server to create an index using the field(s) included in the index</text></li>
    </list>
    <list id="4" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ; font-family:Symbol; font-size:11pt; color:#000000;">
      <li styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Normal" translate="true">When selection an order the client will generate an order by clause that gets sent to the server so the rows get returned in the proper order</text></li>
      <li styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Normal" translate="true">When seeking a record, the client will generate a where clause, using the index expression, so the proper record(s) get(s) returned.</text></li>
    </list>
    <para styleclass="" style="text-align:left; text-indent:-48px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:48px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"></para>
    <para styleclass="" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:18px left,48px left,96px left,144px left,192px left,240px left,288px left,336px left,384px left,432px left,480px left ;"><text styleclass="Normal" translate="true">During this process the RDD has to parse the index expression, and to translate the VO functions used in the expression to functions supported by the server. Since this may be server specific, the RDD will call back into the client application for help with this translation process.</text></para>
  </body>
</topic>
