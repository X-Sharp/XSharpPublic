<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" modified="2024-07-13T03:10:17.884+08:00" lasteditedby="niuji" version="2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title>XS9067</title>
  <keywords>
    <keyword>XS9067</keyword>
  </keywords>
  <body>
    <header>
      <para styleclass="Heading1">Error XS9067</para>
    </header>
    <para styleclass="Body Text"></para>
    <para styleclass="Body Text">如果接口方法有 CLIPPER 调用约定，而实现没有该约定，或相反的情况发生，则会抛出此错误。</para>
    <para styleclass="Body Text"></para>
    <para styleclass="Body Text">这种情况通常发生在接口声明的程序集中，编译器选项 /vo5(隐式 CLIPPER 调用约定)的设置与实现接口的程序不同。</para>
    <para styleclass="Body Text">假设在一个程序集中有以下代码：</para>
    <para styleclass="Code with box"><text style="font-weight:bold; font-style:italic; color:#339966;">// compiled with /vo5-</text><br/><text style="font-weight:bold; font-style:normal; color:#ff0000;">INTERFACE</text><text style="font-weight:normal; font-style:normal; color:#000000;"> IProvider</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; </text><text style="font-weight:bold; font-style:normal; color:#ff0000;">METHOD</text><text style="font-weight:normal; font-style:normal; color:#000000;"> DoSomething() </text><text style="font-weight:bold; font-style:normal; color:#ff0000;">AS</text><text style="font-weight:normal; font-style:normal; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; color:#ff0000;">VOID</text><br/><text style="font-weight:bold; font-style:normal; color:#ff0000;">END</text><text style="font-weight:normal; font-style:normal; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; color:#ff0000;">INTERFACE</text></para>
    <para styleclass="Normal" style="line-height:1.00; tabstops:none;">而在另一个程序集中的实现方式是</para>
    <para styleclass="Code Example"><text style="font-weight:bold; font-style:italic; text-decoration:none; color:#339966;">// compiled with /vo5+</text><br/><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">CLASS</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> MyProvider </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">IMPLEMENTS</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> IProvider</text><br/><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> &#160; </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">METHOD</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> DoSomething() </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">AS</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">VOID</text><br/><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> &#160; &#160; &#160;? &quot;Done&quot;</text><br/><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">END</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">INTERFACE</text></para>
    <para styleclass="Normal" style="line-height:1.00; tabstops:none;">初看该方法的实现过程，似乎没有问题，但由于编译时使用了 /VO5，因此该方法的实际编译过程如下：</para>
    <para styleclass="Code with box"><text style="font-weight:bold; font-style:normal; color:#ff0000;">CLASS</text><text style="font-weight:normal; font-style:normal; color:#000000;"> MyProvider </text><text style="font-weight:bold; font-style:normal; color:#ff0000;">IMPLEMENTS</text><text style="font-weight:normal; font-style:normal; color:#000000;"> IProvider</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; </text><text style="font-weight:bold; font-style:normal; color:#ff0000;">METHOD</text><text style="font-weight:normal; font-style:normal; color:#000000;"> DoSomething(aArgs </text><text style="font-weight:bold; font-style:normal; color:#ff0000;">PARAMS</text><text style="font-weight:normal; font-style:normal; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; color:#ff0000;">USUAL</text><text style="font-weight:normal; font-style:normal; color:#000000;">[]) </text><text style="font-weight:bold; font-style:normal; color:#ff0000;">AS</text><text style="font-weight:normal; font-style:normal; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; color:#ff0000;">VOID</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; &#160; &#160;? &quot;Done&quot;</text><br/><text style="font-weight:bold; font-style:normal; color:#ff0000;">END</text><text style="font-weight:normal; font-style:normal; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; color:#ff0000;">INTERFACE</text></para>
    <para styleclass="Normal" style="line-height:1.00; tabstops:none;">通过这样的写法，我们一眼就能看出，其实现与接口中的定义截然不同</para>
  </body>
</topic>
