<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" modified="2024-06-30T10:35:10.121+08:00" lasteditedby="niuji" version="2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title>SizeOf 操作符</title>
  <body>
    <header>
      <para styleclass="Heading1">SizeOf 操作符</para>
    </header>
    <para styleclass="Body Text"></para>
    <para styleclass="Body Text">sizeof 运算符返回给定类型的变量所占用的字节数。sizeof 运算符的参数必须是一个 <link displaytype="text" defaultstyle="true" type="weblink" href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/unmanaged-types">unmanaged type(</link>非托管类型)的名称，或者是一个<link displaytype="text" defaultstyle="true" type="weblink" href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/generics/constraints-on-type-parameters#unmanaged-constraint">constrained</link> (被限制为)非托管类型的类型参数。</para>
    <para styleclass="Body Text"></para>
    <para styleclass="Heading1">语法</para>
    <para styleclass="Code with box">SizeOf( type )</para>
    <para styleclass="Body Text"></para>
    <para styleclass="Body Text"><table styleclass="Default" rowcount="14" colcount="2">
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para styleclass="Body Text" style="text-align:center;">表达式</para>
        </td>
        <td style="vertical-align:middle;">
          <para styleclass="Body Text" style="text-align:center;">常数</para>
        </td>
      </tr>
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">sizeof(sbyte)</para>
        </td>
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">1</para>
        </td>
      </tr>
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">sizeof(byte)</para>
        </td>
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">1</para>
        </td>
      </tr>
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">sizeof(short)</para>
        </td>
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">2</para>
        </td>
      </tr>
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">sizeof(word)</para>
        </td>
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">2</para>
        </td>
      </tr>
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">sizeof(int)</para>
        </td>
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">4</para>
        </td>
      </tr>
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">sizeof(dword)</para>
        </td>
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">4</para>
        </td>
      </tr>
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">sizeof(int64)</para>
        </td>
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">8</para>
        </td>
      </tr>
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">sizeof(uint64)</para>
        </td>
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">8</para>
        </td>
      </tr>
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">sizeof(char)</para>
        </td>
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">2</para>
        </td>
      </tr>
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">sizeof(real4)</para>
        </td>
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">4</para>
        </td>
      </tr>
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">sizeof(real8)</para>
        </td>
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">8</para>
        </td>
      </tr>
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">sizeof(decimal)</para>
        </td>
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">16</para>
        </td>
      </tr>
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">sizeof(logic)</para>
        </td>
        <td style="vertical-align:middle;">
          <para styleclass="Body Text">1</para>
        </td>
      </tr>
    </table></para>
    <para styleclass="Body Text"></para>
    <para styleclass="Body Text"></para>
    <para styleclass="Body Text">对于某些类型，大小取决于程序的运行方式，例如 32 位模式或 64 位模式。在这种情况下，你可能会看到一条错误信息：SizeOf 运算符需要使用 &#160;<link displaytype="text" defaultstyle="true" type="topiclink" href="opt-unsafe">/unsafe</link> 编译器选项。</para>
    <para styleclass="Heading2">备注</para>
    <para styleclass="Body Text"><text style="font-weight:bold;">为了与 Visual Objects 兼容，还支持 _sizeof()（带下划线和括号），它与 sizeof 同义。</text></para>
    <para styleclass="" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"></para>
  </body>
</topic>
