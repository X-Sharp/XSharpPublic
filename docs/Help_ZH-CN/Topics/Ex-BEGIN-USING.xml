<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" modified="2024-06-03T00:54:31.637+08:00" lasteditedby="Design" version="2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title>BEGIN USING 示例</title>
  <body>
    <header>
      <para styleclass="Heading1">BEGIN USING 示例</para>
    </header>
    <para styleclass="Code Example"><text style="font-weight:normal; font-style:italic; color:#339966;">//</text><br/><text style="font-weight:normal; font-style:italic; color:#339966;">// XSharp不仅允许你使用using语句来链接命名空间</text><br/><text style="font-weight:normal; font-style:italic; color:#339966;">// 你还可以链接到一个静态类，并将该类中的方法当作函数来调用。</text><br/><text style="font-weight:normal; font-style:italic; color:#339966;">// 下面代码中的函数WriteLine和ReadKey()实际上被解析为System.Console.WriteLine()</text><br/><text style="font-weight:normal; font-style:italic; color:#339966;">// 和 System.Console.ReadKey()</text><br/><text style="font-weight:normal; font-style:italic; color:#339966;">// 最后还有 BEGIN USING ... END USING 结构，用于控制变量的生命周期</text><br/><text style="font-weight:normal; font-style:italic; color:#339966;">// 在代码块结束时，变量将被自动处置。</text><br/><text style="font-weight:bold; font-style:normal; color:#ff0000;">USING</text><text style="font-weight:normal; font-style:normal; color:#000000;"> System</text><br/><text style="font-weight:bold; font-style:normal; color:#ff0000;">USING</text><text style="font-weight:normal; font-style:normal; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; color:#ff0000;">STATIC</text><text style="font-weight:normal; font-style:normal; color:#000000;"> System.Console</text><br/><br/><text style="font-weight:bold; font-style:normal; color:#ff0000;">FUNCTION</text><text style="font-weight:normal; font-style:normal; color:#000000;"> Start() </text><text style="font-weight:bold; font-style:normal; color:#ff0000;">AS</text><text style="font-weight:normal; font-style:normal; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; color:#ff0000;">VOID</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; &#160; &#160; WriteLine(&quot;Before Using Block&quot;)</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; WriteLine(&quot;------------------&quot;)</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; </text><text style="font-weight:bold; font-style:normal; color:#ff0000;">BEGIN</text><text style="font-weight:normal; font-style:normal; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; color:#ff0000;">USING</text><text style="font-weight:normal; font-style:normal; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; color:#ff0000;">VAR</text><text style="font-weight:normal; font-style:normal; color:#000000;"> oTest := Test{}</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; &#160; &#160;oTest:DoSomething()</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; </text><text style="font-weight:bold; font-style:normal; color:#ff0000;">END</text><text style="font-weight:normal; font-style:normal; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; color:#ff0000;">USING</text><text style="font-weight:normal; font-style:normal; color:#000000;">&#32;</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; WriteLine(&quot;------------------&quot;)</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; WriteLine(&quot;After Using Block&quot;)</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; ReadKey()</text><br/><br/><br/><text style="font-weight:bold; font-style:normal; color:#ff0000;">CLASS</text><text style="font-weight:normal; font-style:normal; color:#000000;"> Test </text><text style="font-weight:bold; font-style:normal; color:#ff0000;">IMPLEMENTS</text><text style="font-weight:normal; font-style:normal; color:#000000;"> IDisposable</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; CONSTRUCTOR()</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; &#160; &#160;Console.WriteLine(&quot;Test:Constructor()&quot;)</text><br/><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; </text><text style="font-weight:bold; font-style:normal; color:#ff0000;">METHOD</text><text style="font-weight:normal; font-style:normal; color:#000000;"> DoSomething() </text><text style="font-weight:bold; font-style:normal; color:#ff0000;">AS</text><text style="font-weight:normal; font-style:normal; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; color:#ff0000;">VOID</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; &#160; &#160;Console.WriteLine(&quot;Test:DoSomething()&quot;)</text><br/><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; </text><text style="font-weight:bold; font-style:normal; color:#ff0000;">METHOD</text><text style="font-weight:normal; font-style:normal; color:#000000;"> Dispose() </text><text style="font-weight:bold; font-style:normal; color:#ff0000;">AS</text><text style="font-weight:normal; font-style:normal; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; color:#ff0000;">VOID</text><br/><text style="font-weight:normal; font-style:normal; color:#000000;"> &#160; &#160; &#160;Console.WriteLine(&quot;Test:Dispose()&quot;)</text><br/><br/><text style="font-weight:bold; font-style:normal; color:#ff0000;">END</text><text style="font-weight:normal; font-style:normal; color:#000000;">&#32;</text><text style="font-weight:bold; font-style:normal; color:#ff0000;">CLASS</text></para>
  </body>
</topic>
